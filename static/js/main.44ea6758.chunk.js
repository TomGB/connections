(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{119:function(e){e.exports=JSON.parse('[{"id":1,"Question":"What links these?","Clues":["Scuba","Smart","Taser","Laser","Pin","Seal","Kiss","Sonar","Captcha","Who?","Wasp","Rip"],"Answer":"Acronyms"},{"id":2,"Question":"What links these?","Clues":["Atom","Peck","Hobbit","League","A lot","Spat","Rod","Faggot","Poncelet","Cable","Chain","Butt"],"Answer":"Obsolete units of measurement"},{"id":3,"Question":"What links these?","Clues":["Hot","Bubble","Foot","Eye","Public","Mats","Robe","House","Blood","Plug","Bird","Mud"],"Answer":"Baths"},{"id":4,"Question":"What links these?","Clues":["American","Humble","Cottage","Pumpkin","Mud","Lemon","Ocean","Cheese","Fish","Pecan","Sweet Potato","Funeral"],"Answer":"Types of Pie"},{"id":5,"Question":"What links these?","Clues":["Azerbaijan","Belarus","China","Estonia","Finland","Georgia","Kazakhstan","North Korea","Latvia","Lithuania","Mongolia","Norway","Poland","Ukraine"],"Answer":"Types of Pie"},{"id":6,"Question":"What links these?","Clues":["Rot","Note","Fall","Rest","Hills","Patrol","Loose","Stool","Wear","Path","Print","Ball"],"Answer":"Foot"},{"id":7,"Question":"What links these?","Clues":["Craft","Wall","Recycled","News","Sand","Wrapping","Litmus","Filter","Blotting","Note","Toilet","Waste"],"Answer":"Paper"}]')},143:function(e,t,n){"use strict";(function(e){var r=n(51),c=n.n(r),a=n(64),i=n(120),s=function(){var t=Object(a.a)(c.a.mark((function t(n){var r,a,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.split(",")[1],a=e.from(r,"base64"),t.prev=2,t.next=5,fetch("https://api.imgur.com/3/image",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"text/plain;charset=UTF-8",Authorization:"Client-ID 3efda6f1a654717"},redirect:"follow",referrerPolicy:"no-referrer",body:a});case 5:return s=t.sent,t.next=8,s.json();case 8:if(o=t.sent.data.link){t.next=11;break}throw Error("Image error");case 11:return t.abrupt("return",o);case 14:t.prev=14,t.t0=t.catch(2),i.b.error("Sorry, something went wrong uploading the image, please try again later."),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}();t.a=s}).call(this,n(174).Buffer)},166:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var r=n(6),c=n(0),a=n(25),i=n(260),s=n(266),o=n(58),l=n(27),u=n(269),d=n(270),j=(n(165),n(166),n(73)),h=n(60),b=n(51),x=n.n(b),p=n(64),f=n(263),m=n(151),O=n(74),g=n(43),y=n(261),w=n(264),v=n(46),C=n(108),k=n(268),A=n(156),F=n(157),S=n(93),P=n(136),I=n.n(P),R=n(150),T=n(142),L=n.n(T),B=n(143),W=function(e){var t=e.FormItem,n=e.AddButton;return Object(r.jsx)(f.a.List,{name:"clues",children:function(e,c){var a=c.add,i=c.remove;return Object(r.jsxs)(r.Fragment,{children:[e.map((function(e,n){return Object(r.jsx)("div",{children:t({field:e,index:n,remove:i})},e.key)})),Object(r.jsx)(n,{add:a})]})}})},Q=function(e){try{var t=new I.a("https://docs.google.com/forms/d/e/1FAIpQLScqzG86l-Cp1LhTFcH_3qhIRMKCNeLglR1tXd6NbRH8bd55Iw");t.addField("entry.1329122340",JSON.stringify(e)),t.send()}catch(a){}var n=Object(S.compressToEncodedURIComponent)(JSON.stringify(e));console.log(e);var c=window.location.origin+"/connections/#/play/"+n;m.a.confirm({title:"Game successfully created",content:Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"Open this link to play the game"}),Object(r.jsx)("a",{target:"_blank",rel:"noreferrer",href:c,children:c})]}),icon:Object(r.jsx)(C.a,{style:{color:"#52c41a"}}),maskClosable:!0,okText:"Play Game",cancelText:"Close",onOk:function(){window.open(c,"_blank")},onCancel:function(){}})},N=function(e){var t=e.label,n=void 0===t?null:t,c=e.children;return Object(r.jsxs)(O.a,{style:{marginLeft:"10px",marginRight:"20px"},children:[Object(r.jsx)(g.a,{span:8,style:{textAlign:"right",paddingRight:"10px",lineHeight:"32px"},children:n}),Object(r.jsx)(g.a,{span:16,children:c})]})},H=function(e){return function(t){return new Promise((function(n){var r=new FileReader;r.onloadend=function(){var t=new Image,c=document.createElement("CANVAS"),a=c.getContext("2d");a.canvas.width=186,a.canvas.height=100,t.onload=Object(p.a)(x.a.mark((function r(){var i,s;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.drawImage(t,0,0,186,100),i=c.toDataURL(),r.next=4,Object(B.a)(i);case 4:s=r.sent,e(s),n();case 7:case"end":return r.stop()}}),r)}))),t.src=r.result.toString()},r.readAsDataURL(t)}))}},U=function(e){var t=e.setClue;return Object(r.jsx)(R.a,{rotate:!0,aspect:1.86,minZoom:.5,cropperProps:{restrictPosition:!1},children:Object(r.jsx)(y.a,{name:"file",action:H(t),listType:"picture",showUploadList:!1,children:Object(r.jsx)(k.a,{style:{cursor:"pointer",padding:"8px 10px"}})})})},z=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],a=t[1],i=f.a.useForm(),s=Object(h.a)(i,1)[0];Object(c.useEffect)((function(){window.onbeforeunload=function(){return"Are you sure you want to leave, this page will be reset."}}),[]);var o=function(e){return function(t){a(!0),console.log("setClue");var n=s.getFieldValue("clues");n[e]=t,s.setFieldsValue({clues:n})}},u=Array(12).fill("");return Object(r.jsxs)("div",{style:{maxWidth:"500px"},children:[Object(r.jsx)(l.a,{when:n,message:function(){return"Are you sure you want to leave, this page will be reset."}}),Object(r.jsxs)(f.a,{form:s,layout:"horizontal",initialValues:{clues:u},onFinish:Q,children:[Object(r.jsx)(N,{label:"Answer:",children:Object(r.jsx)(f.a.Item,{name:"answer",children:Object(r.jsx)(w.a,{placeholder:"The connection"})})}),Object(r.jsx)(W,{FormItem:function(e){var t=e.field,n=e.index,c=e.remove,a=s.getFieldValue("clues")[n],i=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-/]))?/.test(a);return console.log(i),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(N,{label:n+1+":",children:Object(r.jsx)(f.a.Item,Object(j.a)(Object(j.a)({},t),{},{name:t.name,fieldKey:t.fieldKey,style:{marginBottom:"8px"},children:Object(r.jsx)(w.a,{placeholder:"Clue",className:"clue-input",onChange:L()((function(e){return o(n)(e.target.value)}),300),addonBefore:Object(r.jsx)(U,{setClue:o(n)}),suffix:Object(r.jsx)(A.a,{style:{color:"#F66"},onClick:function(){return c(t.name)}})})}))}),i&&Object(r.jsx)(N,{children:Object(r.jsx)("img",{style:{paddingBottom:"10px"},src:a,alt:"clue ".concat(n+1)})})]})},AddButton:function(e){var t=e.add;return Object(r.jsx)(N,{children:Object(r.jsx)(f.a.Item,{children:Object(r.jsx)(v.a,{type:"dashed",onClick:function(){return t()},block:!0,icon:Object(r.jsx)(F.a,{}),children:"Add Clue"})})})}}),Object(r.jsx)(N,{children:Object(r.jsx)(f.a.Item,{children:Object(r.jsx)(v.a,{type:"primary",htmlType:"submit",children:"Generate"})})})]})]})},E=n(265),q=n(105),J=n.n(q),K=n(153),G=n(120),M=n(267),V=n(147),D=n.n(V),_=n(262),X=n(148),Z=n.n(X),Y=n(149),$=n.n(Y),ee=function(e){var t=e.text,n=e.index,c=e.show,a=e.setShow,i=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-/]))?/.test(t),s=i?{backgroundImage:"url(".concat(t,")")}:{};return Object(r.jsxs)($.a,{isFlipped:c,children:[Object(r.jsx)(_.a,{style:{textAlign:"center",fontSize:"30px",height:"100px"},bodyStyle:{height:"100px",padding:"24px 0px",color:"white",background:"#3a3d3e"},onClick:function(){return a(!0)},children:n+1}),Object(r.jsx)(_.a,{style:{textAlign:"center",height:"100px"},bodyStyle:Object(j.a)(Object(j.a)({},s),{},{padding:"5px",height:"100px",display:"flex",flexDirection:"column",justifyContent:"center"}),onClick:function(){return a(!1)},children:!i&&Object(r.jsx)(Z.a,{mode:"single",max:30,children:t})})]})},te=function(e){var t=e.clues,n=e.setActiveQuestionIndex,a=void 0===n?null:n,i=e.activeQuestionIndex,s=void 0===i?null:i,o=Object(c.useState)(Array.from({length:12},(function(){return!1}))),l=Object(h.a)(o,2),u=l[0],d=l[1],j=function(e){return function(t){u[e]=t,d(Object(K.a)(u))}},b=t.map((function(e,t){return{clue:e,index:t}})),f=D()(b,4),m=function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(Array.from({length:12},(function(){return!1}))),e.next=3,new Promise((function(e){return setTimeout(e,600)}));case 3:0!==s&&a?a(s-1):G.b.success("That's all folks");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){return d(Array(12).fill(e))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{style:{maxWidth:"800px",width:"100%"},children:[Object(r.jsx)(O.a,{gutter:[16,16],children:f.map((function(e){return e.map((function(e){var t=e.clue,n=e.index;return Object(r.jsx)(g.a,{sm:6,xs:8,children:Object(r.jsx)(ee,{text:t,index:n,show:u[n],setShow:j(n)})},n)}))}))}),Object(r.jsxs)(M.b,{size:[8,8],wrap:!0,children:[Object(r.jsx)(v.a,{onClick:function(){return y(!0)},children:"Reveal All"}),Object(r.jsx)(v.a,{onClick:function(){return y(!1)},children:"Hide All"}),Object(r.jsx)(v.a,{onClick:m,children:"Next Question"})]})]})})},ne=function(){var e,t=Object(l.g)().encodedQuestion;try{for(var n=JSON.parse(Object(S.decompressFromEncodedURIComponent)(t)),c=J()(n.clues);c.length>12;)c.pop();e=c}catch(a){return console.log(a),Object(r.jsx)(E.a,{status:"error",title:"Sorry, the URL is invalid",subTitle:"Please check the URL has been copied correctly.",extra:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o.b,{to:"/create",type:"primary",children:Object(r.jsx)(v.a,{type:"primary",children:"Create a new question"})}),Object(r.jsx)(o.b,{to:"/",children:Object(r.jsx)(v.a,{children:"Play sample questions"})})]})})}return Object(r.jsx)(te,{clues:e})},re=n(119),ce=function(){for(var e=Object(c.useState)(re.length-1),t=Object(h.a)(e,2),n=t[0],a=t[1],i=J()(re[n].Clues);i.length>12;)i.pop();return Object(r.jsx)(te,{clues:i,activeQuestionIndex:n,setActiveQuestionIndex:a})},ae=i.a.Footer,ie=i.a.Content,se=function(){return Object(r.jsxs)(i.a,{style:{minHeight:"100vh"},children:[Object(r.jsxs)(o.a,{children:[Object(r.jsxs)(s.a,{theme:"dark",mode:"horizontal",children:[Object(r.jsx)(s.a.Item,{icon:Object(r.jsx)(u.a,{}),children:Object(r.jsx)(o.b,{to:"/create",children:"Create your own questions"})}),Object(r.jsx)(s.a.Item,{icon:Object(r.jsx)(d.a,{}),children:Object(r.jsx)(o.b,{to:"/",children:"Play example questions"})})]}),Object(r.jsx)(ie,{style:{maxWidth:"800px",width:"100%",margin:"auto",marginTop:"100px"},children:Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{exact:!0,path:"/",children:Object(r.jsx)(ce,{})}),Object(r.jsx)(l.b,{exact:!0,path:"/create",children:Object(r.jsx)(z,{})}),Object(r.jsx)(l.b,{path:"/play/:encodedQuestion",children:Object(r.jsx)(ne,{})})]})})]}),Object(r.jsxs)(ae,{style:{textAlign:"center"},children:["Connections \xa92021 Created by ",Object(r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/tomgb/",children:"Tom Banister"})]})]})};Object(a.render)(Object(r.jsx)(se,{}),document.getElementById("root"))}},[[258,1,2]]]);
//# sourceMappingURL=main.44ea6758.chunk.js.map