{"version":3,"sources":["components/Create.jsx","components/Clue.jsx","components/Clues.jsx","components/UrlQuestions.jsx","components/DefaultQuestions.jsx","index.js"],"names":["FormList","FormItem","AddButton","List","name","fields","add","remove","map","field","index","key","onFinish","form","GoogleForm","addField","JSON","stringify","send","error","encoded","lzEncode","console","log","gameUrl","window","location","origin","Modal","confirm","title","content","target","rel","href","icon","style","color","maskClosable","okText","cancelText","onOk","open","onCancel","LabelAndInput","label","children","marginLeft","marginRight","span","textAlign","paddingRight","lineHeight","uploadToImgur","dataUrl","a","data","split","imageBase64","Buffer","from","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","response","json","link","Error","message","uploadAction","setClue","file","Promise","resolve","reader","FileReader","onloadend","imageObj","Image","canvas","document","createElement","ctx","getContext","width","height","onload","drawImage","toDataURL","imageUrl","src","result","toString","readAsDataURL","ImageUpload","rotate","aspect","imageWidth","minZoom","cropperProps","restrictPosition","action","listType","showUploadList","cursor","Create","useState","showWarning","setShowWarning","Form","useForm","useEffect","onbeforeunload","text","clues","getFieldValue","setFieldsValue","initialValues","Array","fill","maxWidth","when","layout","Item","placeholder","value","isImage","test","fieldKey","marginBottom","onChange","debounce","e","addonBefore","suffix","onClick","paddingBottom","alt","type","block","htmlType","Clue","show","setShow","image","backgroundImage","isFlipped","fontSize","bodyStyle","padding","background","display","flexDirection","justifyContent","max","Clues","setActiveQuestionIndex","activeQuestionIndex","length","shownClues","setShownClues","setupShow","shown","cluesWithIndex","clue","rows","splitArray","nextQuestion","setTimeout","success","showAll","gutter","columns","sm","xs","size","wrap","UrlQuestions","encodedQuestion","useParams","question","parse","lzDecode","shuffledClues","arrayShuffle","pop","status","subTitle","extra","to","DefaultQuestions","questions","Footer","Layout","Content","App","minHeight","theme","EditOutlined","PlayCircleOutlined","margin","marginTop","exact","path","render","getElementById"],"mappings":"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","file":"static/js/main.6f7b17b0.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Form, Input, Button, Col, Row, Modal, Upload, message } from \"antd\"\nimport { DeleteOutlined, PlusOutlined, CheckCircleOutlined, PictureOutlined } from '@ant-design/icons';\nimport { compressToEncodedURIComponent as lzEncode } from 'lz-string'\nimport GoogleForm from 'google-form-send'\nimport ImgCrop from 'antd-img-crop'\nimport debounce from 'lodash.debounce'\nimport { Prompt } from \"react-router-dom\";\n\nconst isUrl = s => {\n    const regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-/]))?/\n    return regexp.test(s);\n}\n\nconst FormList = ({ FormItem, AddButton }) => (\n    <Form.List name=\"clues\">\n        {(fields, { add, remove }) => (\n            <>\n                {fields.map((field, index) => (\n                    <div key={field.key}>\n                        {FormItem({ field, index, remove })}\n                    </div>\n                ))}\n                <AddButton add={add} />\n            </>\n        )}\n    </Form.List>\n)\n\nconst onFinish = (fields) => {\n    try {\n        const form = new GoogleForm('https://docs.google.com/forms/d/e/1FAIpQLScqzG86l-Cp1LhTFcH_3qhIRMKCNeLglR1tXd6NbRH8bd55Iw')\n        form.addField('entry.1329122340', JSON.stringify(fields))\n        form.send()\n    } catch (error) {\n        // this always errors but google does save the answer\n    }\n\n    const encoded = lzEncode(JSON.stringify(fields))\n\n    console.log(fields)\n    const gameUrl = window.location.origin + process.env.PUBLIC_URL + '/#/play/' + encoded\n\n    Modal.confirm({\n        title: 'Game successfully created',\n        content: (\n            <div>\n                <p>Open this link to play the game</p>\n                <a target='_blank' rel=\"noreferrer\" href={gameUrl}>{gameUrl}</a>\n            </div>\n        ),\n        icon: <CheckCircleOutlined style={{ color: '#52c41a' }} />,\n        maskClosable: true,\n        okText: 'Play Game',\n        cancelText: 'Close',\n        onOk() {\n            window.open(gameUrl, \"_blank\")\n        },\n        onCancel() { }\n    });\n}\n\nconst LabelAndInput = ({ label = null, children }) => (\n    <Row style={{ marginLeft: '10px', marginRight: '20px' }}>\n        <Col span={8} style={{ textAlign: 'right', paddingRight: '10px', lineHeight: '32px' }}>{label}</Col>\n        <Col span={24 - 8}>{children}</Col>\n    </Row>\n)\n\nconst imageWidth = 186\nconst imageHeight = 100\n\nconst uploadToImgur = async dataUrl => {\n    const data = dataUrl.split(',')[1]\n    const imageBase64 = Buffer.from(data, 'base64');\n\n    try {\n        const response = await fetch('https://api.imgur.com/3/image', {\n            method: 'POST',\n            mode: 'cors', // no-cors, *cors, same-origin\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n            credentials: 'same-origin', // include, *same-origin, omit\n            headers: {\n                'Content-Type': 'text/plain;charset=UTF-8',\n                'Authorization': 'Client-ID 3efda6f1a654717',\n\n            },\n            redirect: 'follow', // manual, *follow, error\n            referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n            body: imageBase64 // body data type must match \"Content-Type\" header\n        });\n        const link = (await response.json()).data.link\n        if (!link) throw Error('Image error')\n\n        return link\n    } catch (error) {\n        message.error('Sorry, something went wrong uploading the image, please try again later.')\n        console.log(error)\n    }\n}\n\nconst uploadAction = setClue => file => {\n    return new Promise(resolve => {\n        const reader = new FileReader()\n        reader.onloadend = () => {\n            var imageObj = new Image()\n            var canvas = document.createElement('CANVAS')\n\n            var ctx = canvas.getContext('2d')\n            ctx.canvas.width = imageWidth\n            ctx.canvas.height = imageHeight\n\n            imageObj.onload = async () => {\n                ctx.drawImage(imageObj, 0, 0, imageWidth, imageHeight)\n                const dataUrl = canvas.toDataURL()\n                const imageUrl = await uploadToImgur(dataUrl)\n                setClue(imageUrl)\n                resolve()\n            }\n\n            imageObj.src = reader.result.toString()\n        }\n        reader.readAsDataURL(file)\n    })\n}\n\nconst ImageUpload = ({ setClue }) => (\n    <ImgCrop rotate aspect={imageWidth / imageHeight} minZoom={0.5} cropperProps={{ restrictPosition: false }}>\n        <Upload\n            name='file'\n            action={uploadAction(setClue)}\n            listType='picture'\n            showUploadList={false}\n        >\n            <PictureOutlined style={{ cursor: 'pointer' }} />\n        </Upload>\n    </ImgCrop>\n)\n\nconst Create = () => {\n    const [showWarning, setShowWarning] = useState(false)\n    const [form] = Form.useForm();\n\n    useEffect(() => {\n        window.onbeforeunload = () => 'Are you sure you want to leave, this page will be reset.'\n    }, [])\n\n    const setClue = index => text => {\n        setShowWarning(true)\n        console.log('setClue')\n        const clues = form.getFieldValue('clues')\n\n        clues[index] = text\n\n        form.setFieldsValue({\n            clues,\n        })\n    }\n\n    const initialValues = Array(12).fill(\"\")\n\n    return (\n        <div style={{ maxWidth: '500px' }}>\n            <Prompt\n                when={showWarning}\n                message={() => 'Are you sure you want to leave, this page will be reset.'}\n            />\n            <Form\n                form={form}\n                layout='horizontal'\n                initialValues={{ clues: initialValues }}\n                onFinish={onFinish}\n            >\n                <LabelAndInput label=\"Answer:\">\n                    <Form.Item name='answer'>\n                        <Input placeholder=\"The connection\" />\n                    </Form.Item>\n                </LabelAndInput>\n                <FormList\n                    FormItem={({ field, index, remove }) => {\n                        const value = form.getFieldValue('clues')[index]\n                        const isImage = isUrl(value)\n                        console.log(isImage)\n                        return (\n                            <>\n                                <LabelAndInput label={index + 1 + ':'}>\n                                    <Form.Item\n                                        {...field}\n                                        name={field.name}\n                                        fieldKey={field.fieldKey}\n                                        style={{ marginBottom: '8px' }}\n                                    >\n                                        {/* <EditOutlined /> */}\n                                        <Input onChange={debounce((e) => setClue(index)(e.target.value), 300)} placeholder=\"Clue\" addonBefore={<ImageUpload setClue={setClue(index)} />} suffix={\n                                            <DeleteOutlined style={{ color: '#F66' }} onClick={() => remove(field.name)} />\n                                        } />\n                                    </Form.Item>\n                                </LabelAndInput>\n                                {isImage && <LabelAndInput><img style={{ paddingBottom: '10px' }} src={value} alt={`clue ${index + 1}`} /></LabelAndInput>}\n                            </>\n                        )\n                    }}\n                    AddButton={({ add }) => (\n                        <LabelAndInput>\n                            <Form.Item>\n                                <Button\n                                    type=\"dashed\"\n                                    onClick={() => add()}\n                                    block icon={<PlusOutlined />}\n                                >\n                                    Add Clue\n                            </Button>\n                            </Form.Item>\n                        </LabelAndInput>\n                    )}\n                />\n                <LabelAndInput>\n                    <Form.Item>\n                        <Button type=\"primary\" htmlType=\"submit\">Generate</Button>\n                    </Form.Item>\n                </LabelAndInput>\n            </Form>\n        </div>\n    )\n}\nexport default Create\n","import React from \"react\"\nimport { Card } from \"antd\"\nimport Textfit from 'react-textfit'\nimport ReactCardFlip from \"react-card-flip\"\n\nconst isUrl = s => {\n    const regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-/]))?/\n    return regexp.test(s);\n}\n\nconst Clue = ({ text, index, show, setShow }) => {\n    const isImage = isUrl(text)\n\n    const image = isImage ? { backgroundImage: `url(${text})` } : {}\n    return (\n        <ReactCardFlip isFlipped={show}>\n            <Card\n                style={{ textAlign: 'center', fontSize: '30px', height: '100px' }}\n                bodyStyle={{ height: '100px', padding: '24px 0px', color: 'white', background: '#3a3d3e' }}\n                onClick={() => setShow(true)}\n            >{index + 1}</Card>\n            <Card\n                style={{ textAlign: 'center', height: '100px' }}\n                bodyStyle={{ ...image, padding: '5px', height: '100px', display: 'flex', flexDirection: 'column', justifyContent: 'center' }}\n                onClick={() => setShow(false)}\n            >{!isImage && <Textfit mode=\"single\" max={30}>{text}</Textfit>}</Card>\n        </ReactCardFlip >\n    )\n}\n\nexport default Clue\n","import React, { useState } from \"react\"\nimport { Button, Col, message, Row, Space } from \"antd\"\nimport splitArray from \"split-array\"\nimport Clue from \"./Clue\"\n\nconst Clues = ({ clues, setActiveQuestionIndex = null, activeQuestionIndex = null }) => {\n    const [shownClues, setShownClues] = useState(Array.from({ length: 12 }, () => false))\n\n    const setupShow = (index) => (shown) => {\n        shownClues[index] = shown\n        setShownClues([...shownClues])\n    }\n\n    const cluesWithIndex = clues.map((clue, index) => ({ clue, index }))\n\n    const rows = splitArray(cluesWithIndex, 4)\n\n    const nextQuestion = async () => {\n        setShownClues(Array.from({ length: 12 }, () => false))\n        await new Promise(resolve => setTimeout(resolve, 600))\n        if (activeQuestionIndex !== 0 && setActiveQuestionIndex) {\n            setActiveQuestionIndex(activeQuestionIndex - 1)\n        } else {\n            message.success('That\\'s all folks');\n        }\n    }\n\n    const showAll = show => setShownClues(Array(12).fill(show))\n\n    return <>\n        <div style={{ maxWidth: '800px', width: '100%' }}>\n            <Row gutter={[16, 16]}>\n                {rows.map(columns => columns.map(({ clue, index }) => (\n                    <Col key={index} sm={6} xs={8}>\n                        <Clue text={clue} index={index} show={shownClues[index]} setShow={setupShow(index)} />\n                    </Col>\n                )))}\n            </Row>\n            <Space size={[8, 8]} wrap>\n                <Button onClick={() => showAll(true)}>Reveal All</Button>\n                <Button onClick={() => showAll(false)}>Hide All</Button>\n                <Button onClick={nextQuestion}>Next Question</Button>\n            </Space>\n        </div>\n    </>\n}\n\nexport default Clues\n","import { useParams, Link } from 'react-router-dom'\nimport { decompressFromEncodedURIComponent as lzDecode } from 'lz-string'\nimport React from 'react'\nimport { Button, Result } from 'antd'\nimport arrayShuffle from 'array-shuffle'\nimport Clues from './Clues'\n\nconst UrlQuestions = () => {\n    /** @type {{encodedQuestion: string}}*/\n    const { encodedQuestion } = useParams()\n\n    let clues\n\n    try {\n        const question = JSON.parse(lzDecode(encodedQuestion))\n\n        const shuffledClues = arrayShuffle(question.clues)\n\n\n        while (shuffledClues.length > 12) {\n            shuffledClues.pop()\n        }\n\n        clues = shuffledClues\n    } catch (error) {\n        console.log(error)\n        return <Result\n            status=\"error\"\n            title=\"Sorry, the URL is invalid\"\n            subTitle=\"Please check the URL has been copied correctly.\"\n            extra={<>\n                <Link to='/create' type=\"primary\">\n                    <Button type='primary'>Create a new question</Button>\n                </Link>\n                <Link to='/'><Button>Play sample questions</Button></Link>\n            </>}\n        />\n    }\n\n    return <Clues clues={clues} />\n}\n\nexport default UrlQuestions\n","import arrayShuffle from \"array-shuffle\";\nimport React, { useState } from \"react\";\n\nimport Clues from \"./Clues\";\nimport questions from '../questions.json'\n\n\nconst DefaultQuestions = () => {\n    const [activeQuestionIndex, setActiveQuestionIndex] = useState(questions.length - 1);\n\n    const clues = arrayShuffle(questions[activeQuestionIndex].Clues)\n\n    while (clues.length > 12) {\n        clues.pop()\n    }\n\n    return <Clues clues={clues} activeQuestionIndex={activeQuestionIndex} setActiveQuestionIndex={setActiveQuestionIndex} />\n}\n\nexport default DefaultQuestions\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Layout, Menu } from 'antd';\nimport { Route, Switch, HashRouter as Router, Link } from 'react-router-dom'\nimport { PlayCircleOutlined, EditOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport './index.css';\n\nimport Create from './components/Create';\nimport UrlQuestions from './components/UrlQuestions';\nimport DefaultQuestions from './components/DefaultQuestions';\n\nconst { Footer, Content } = Layout;\n\nconst App = () => (\n  <Layout style={{ minHeight: \"100vh\" }}>\n    <Router>\n      <Menu theme=\"dark\" mode=\"horizontal\">\n        <Menu.Item icon={<EditOutlined />}><Link to='/create'>Create your own questions</Link></Menu.Item>\n        <Menu.Item icon={<PlayCircleOutlined />}><Link to='/'>Play example questions</Link></Menu.Item>\n      </Menu>\n      <Content style={{ maxWidth: '800px', width: '100%', margin: 'auto', marginTop: '100px' }}>\n        <Switch>\n          <Route exact path='/'>\n            <DefaultQuestions />\n          </Route>\n          <Route exact path='/create'><Create /></Route>\n          <Route path='/play/:encodedQuestion'>\n            <UrlQuestions />\n          </Route>\n        </Switch>\n      </Content>\n    </Router>\n    <Footer style={{ textAlign: 'center' }}>Connections ©2021 Created by <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/tomgb/\">Tom Banister</a></Footer>\n  </Layout >\n)\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}