(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{120:function(e){e.exports=JSON.parse('[{"id":1,"Question":"What links these?","Clues":["Scuba","Smart","Taser","Laser","Pin","Seal","Kiss","Sonar","Captcha","Who?","Wasp","Rip"],"Answer":"Acronyms"},{"id":2,"Question":"What links these?","Clues":["Atom","Peck","Hobbit","League","A lot","Spat","Rod","Faggot","Poncelet","Cable","Chain","Butt"],"Answer":"Obsolete units of measurement"},{"id":3,"Question":"What links these?","Clues":["Hot","Bubble","Foot","Eye","Public","Mats","Robe","House","Blood","Plug","Bird","Mud"],"Answer":"Baths"},{"id":4,"Question":"What links these?","Clues":["American","Humble","Cottage","Pumpkin","Mud","Lemon","Ocean","Cheese","Fish","Pecan","Sweet Potato","Funeral"],"Answer":"Types of Pie"},{"id":5,"Question":"What links these?","Clues":["Azerbaijan","Belarus","China","Estonia","Finland","Georgia","Kazakhstan","North Korea","Latvia","Lithuania","Mongolia","Norway","Poland","Ukraine"],"Answer":"Types of Pie"},{"id":6,"Question":"What links these?","Clues":["Rot","Note","Fall","Rest","Hills","Patrol","Loose","Stool","Wear","Path","Print","Ball"],"Answer":"Foot"},{"id":7,"Question":"What links these?","Clues":["Craft","Wall","Recycled","News","Sand","Wrapping","Litmus","Filter","Blotting","Note","Toilet","Waste"],"Answer":"Paper"}]')},143:function(e,t,n){"use strict";(function(e){var r=n(43),a=n.n(r),c=n(60),i=n(121),s=function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,s,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.split(",")[1],c=e.from(r,"base64"),t.prev=2,t.next=5,fetch("https://api.imgur.com/3/image",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"text/plain;charset=UTF-8",Authorization:"Client-ID 3efda6f1a654717"},redirect:"follow",referrerPolicy:"no-referrer",body:c});case 5:return s=t.sent,t.next=8,s.json();case 8:if(o=t.sent.data.link){t.next=11;break}throw Error("Image error");case 11:return t.abrupt("return",o);case 14:t.prev=14,t.t0=t.catch(2),i.b.error("Sorry, something went wrong uploading the image, please try again later."),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}();t.a=function(e,t){var n=t.imageWidth,r=t.imageHeight;return new Promise((function(t){var i=new FileReader;i.onloadend=function(){var e=new Image,o=document.createElement("CANVAS"),l=o.getContext("2d");l.canvas.width=n,l.canvas.height=r,e.onload=Object(c.a)(a.a.mark((function c(){var i,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l.drawImage(e,0,0,n,r),i=o.toDataURL(),a.next=4,s(i);case 4:u=a.sent,t(u);case 6:case"end":return a.stop()}}),c)}))),e.src=i.result.toString()},i.readAsDataURL(e)}))}}).call(this,n(173).Buffer)},165:function(e,t,n){},257:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(0),c=n(26),i=n(259),s=n(266),o=n(58),l=n(27),u=n(269),d=n(270),h=(n(164),n(165),n(63)),j=n(75),b=n(262),x=n(263),p=n(47),m=n(76),O=n(44),f=n(264),g=n(156),y=n(157),w=n(137),v=n.n(w),C=n(43),k=n.n(C),A=n(60),S=n(260),P=n(268),F=n(150),I=n(143),W=function(e){var t=e.setClue;return Object(r.jsx)(F.a,{rotate:!0,aspect:1.86,minZoom:.5,cropperProps:{restrictPosition:!1},children:Object(r.jsx)(S.a,{name:"file",action:function(){var e=Object(A.a)(k.a.mark((function e(n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)(n,{imageWidth:558,imageHeight:300});case 2:return r=e.sent,t(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),listType:"picture",showUploadList:!1,children:Object(r.jsx)(P.a,{style:{cursor:"pointer",padding:"8px 10px"}})})})},R=function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-/]))?/.test(e)},T=n(151),L=n(108),Q=n(103),B=n(145),N=n.n(B),H=function(e){try{var t=new N.a("https://docs.google.com/forms/d/e/1FAIpQLScqzG86l-Cp1LhTFcH_3qhIRMKCNeLglR1tXd6NbRH8bd55Iw");t.addField("entry.1329122340",JSON.stringify(e)),t.send()}catch(c){}"sequential"===e.order?(delete e.order,e.o=!0):delete e.order;var n=Object(Q.compressToEncodedURIComponent)(JSON.stringify(e)),a=window.location.origin+"/connections/#/play/"+n;T.a.confirm({title:"Game successfully created",content:Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"Open this link to play the game"}),Object(r.jsx)("a",{target:"_blank",rel:"noreferrer",href:a,children:a})]}),icon:Object(r.jsx)(L.a,{style:{color:"#52c41a"}}),maskClosable:!0,okText:"Play Game",cancelText:"Close",onOk:function(){window.open(a,"_blank")},onCancel:function(){}})},q=function(e){var t=e.form,n=e.setShowWarning,a=e.remove;return function(e,c){var i=t.getFieldValue("clues")[c],s=R(i),o=function(e){n(!0),console.log("setClue");var r=t.getFieldValue("clues");r[c]=e,t.setFieldsValue({clues:r})};return Object(r.jsxs)("div",{children:[Object(r.jsx)(U,{label:c+1+":",children:Object(r.jsx)(b.a.Item,Object(j.a)(Object(j.a)({},e),{},{style:{marginBottom:"8px"},children:Object(r.jsx)(x.a,{placeholder:"Clue",className:"clue-input",onChange:v()((function(e){return o(e.target.value)}),300),addonBefore:Object(r.jsx)(W,{setClue:o}),suffix:Object(r.jsx)(g.a,{style:{color:"#F66"},onClick:function(){return a(e.name)}})})}))}),s&&Object(r.jsx)(U,{children:Object(r.jsx)("img",{src:i,style:{paddingBottom:"10px",width:"186px"},alt:"clue ".concat(c+1)})})]},e.key)}},z=function(e){var t=e.form,n=e.setShowWarning;return Object(r.jsx)(b.a.List,{name:"clues",children:function(e,a){var c=a.add,i=a.remove;return Object(r.jsxs)(r.Fragment,{children:[e.map(q({form:t,setShowWarning:n,remove:i})),Object(r.jsx)(U,{children:Object(r.jsx)(b.a.Item,{children:Object(r.jsx)(p.a,{type:"dashed",onClick:function(){return c()},block:!0,icon:Object(r.jsx)(y.a,{}),children:"Add Clue"})})})]})}})},U=function(e){var t=e.label,n=void 0===t?null:t,a=e.children;return Object(r.jsxs)(m.a,{style:{marginLeft:"10px",marginRight:"20px"},children:[Object(r.jsx)(O.a,{span:8,style:{textAlign:"right",paddingRight:"10px",lineHeight:"32px"},children:n}),Object(r.jsx)(O.a,{span:16,children:a})]})},E=function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),n=t[0],c=t[1],i=b.a.useForm(),s=Object(h.a)(i,1)[0];Object(a.useEffect)((function(){window.onbeforeunload=function(){return"Are you sure you want to leave, this page will be reset."}}),[]);var o=Array(12).fill("");return Object(r.jsxs)("div",{style:{maxWidth:"500px"},children:[Object(r.jsx)(l.a,{when:n,message:function(){return"Are you sure you want to leave, this page will be reset."}}),Object(r.jsxs)(b.a,{form:s,layout:"horizontal",initialValues:{clues:o},onFinish:H,children:[Object(r.jsx)(U,{label:"Answer:",children:Object(r.jsx)(b.a.Item,{name:"answer",children:Object(r.jsx)(x.a,{placeholder:"The connection"})})}),Object(r.jsx)(U,{label:"Order:",children:Object(r.jsx)(b.a.Item,{name:"order",children:Object(r.jsxs)(f.a.Group,{defaultValue:"randomised",children:[Object(r.jsx)(f.a,{value:"randomised",children:"Randomised"}),Object(r.jsx)(f.a,{value:"sequential",children:"Sequential"})]})})}),Object(r.jsx)(z,{form:s,setShowWarning:c}),Object(r.jsx)(U,{children:Object(r.jsx)(b.a.Item,{children:Object(r.jsx)(p.a,{type:"primary",htmlType:"submit",children:"Generate"})})})]})]})},G=n(265),J=n(105),V=n.n(J),M=n(153),D=n(121),K=n(267),_=n(261),X=n(148),Z=n.n(X),Y=n(149),$=n.n(Y),ee={padding:"5px",height:"100px",display:"flex",flexDirection:"column",justifyContent:"center",cursor:"pointer"},te={textAlign:"center",fontSize:"30px",height:"100px",cursor:"pointer"},ne={height:"100px",padding:"24px 0px",color:"white",background:"#3a3d3e"},re=function(e){var t=e.text,n=e.index,a=e.show,c=e.setShow,i=R(t),s=i?{backgroundImage:"url(".concat(t,")"),backgroundSize:"cover",backgroundPosition:"center"}:{};return Object(r.jsxs)($.a,{isFlipped:a,children:[Object(r.jsx)(_.a,{style:te,bodyStyle:ne,onClick:function(){return c(!0)},children:n+1}),Object(r.jsx)(_.a,{style:{textAlign:"center",height:"100px"},bodyStyle:Object(j.a)(Object(j.a)({},s),ee),onClick:function(){return c(!1)},children:!i&&Object(r.jsx)(Z.a,{mode:"single",max:30,children:t})})]})},ae=function(e){var t=e.clues,n=e.setActiveQuestionIndex,c=void 0===n?null:n,i=e.activeQuestionIndex,s=void 0===i?null:i,o=Object(a.useState)(Array.from({length:12},(function(){return!1}))),l=Object(h.a)(o,2),u=l[0],d=l[1],j=function(e){return function(t){u[e]=t,d(Object(M.a)(u))}},b=t.map((function(e,t){return{clue:e,index:t}})),x=function(){var e=Object(A.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(Array.from({length:12},(function(){return!1}))),e.next=3,new Promise((function(e){return setTimeout(e,600)}));case 3:0!==s&&c?c(s-1):D.b.success("That's all folks");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){return d(Array(12).fill(e))};return Object(r.jsxs)("div",{style:{maxWidth:"800px",width:"100%"},children:[Object(r.jsx)(m.a,{gutter:[16,16],children:b.map((function(e){var t=e.clue,n=e.index;return Object(r.jsx)(O.a,{sm:6,xs:8,children:Object(r.jsx)(re,{text:t,index:n,show:u[n],setShow:j(n)})},n)}))}),Object(r.jsxs)(K.b,{size:[8,8],wrap:!0,children:[Object(r.jsx)(p.a,{onClick:function(){return f(!0)},children:"Reveal All"}),Object(r.jsx)(p.a,{onClick:function(){return f(!1)},children:"Hide All"}),Object(r.jsx)(p.a,{onClick:x,children:"Next Question"})]})]})},ce=function(){var e,t=Object(l.g)().encodedQuestion;try{var n,a=JSON.parse(Object(Q.decompressFromEncodedURIComponent)(t));for(n=a.o?a.clues:V()(a.clues);n.length>12;)n.pop();e=n}catch(c){return console.log(c),Object(r.jsx)(G.a,{status:"error",title:"Sorry, the URL is invalid",subTitle:"Please check the URL has been copied correctly.",extra:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o.b,{to:"/create",type:"primary",children:Object(r.jsx)(p.a,{type:"primary",children:"Create a new question"})}),Object(r.jsx)(o.b,{to:"/",children:Object(r.jsx)(p.a,{children:"Play sample questions"})})]})})}return Object(r.jsx)(ae,{clues:e})},ie=n(120),se=function(){for(var e=Object(a.useState)(ie.length-1),t=Object(h.a)(e,2),n=t[0],c=t[1],i=V()(ie[n].Clues);i.length>12;)i.pop();return Object(r.jsx)(ae,{clues:i,activeQuestionIndex:n,setActiveQuestionIndex:c})},oe=i.a.Footer,le=i.a.Content,ue=function(){return Object(r.jsxs)(i.a,{style:{minHeight:"100vh"},children:[Object(r.jsxs)(o.a,{children:[Object(r.jsxs)(s.a,{theme:"dark",mode:"horizontal",children:[Object(r.jsx)(s.a.Item,{icon:Object(r.jsx)(u.a,{}),children:Object(r.jsx)(o.b,{to:"/create",children:"Create your own questions"})}),Object(r.jsx)(s.a.Item,{icon:Object(r.jsx)(d.a,{}),children:Object(r.jsx)(o.b,{to:"/",children:"Play example questions"})})]}),Object(r.jsx)(le,{style:{maxWidth:"800px",width:"100%",margin:"auto",marginTop:"100px"},children:Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{exact:!0,path:"/",children:Object(r.jsx)(se,{})}),Object(r.jsx)(l.b,{exact:!0,path:"/create",children:Object(r.jsx)(E,{})}),Object(r.jsx)(l.b,{path:"/play/:encodedQuestion",children:Object(r.jsx)(ce,{})})]})})]}),Object(r.jsxs)(oe,{style:{textAlign:"center"},children:["Connections \xa92021 Created by ",Object(r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/tomgb/",children:"Tom Banister"})]})]})};Object(c.render)(Object(r.jsx)(ue,{}),document.getElementById("root"))}},[[257,1,2]]]);
//# sourceMappingURL=main.77a367bf.chunk.js.map