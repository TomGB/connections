(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{120:function(e){e.exports=JSON.parse('[{"id":1,"Question":"What links these?","Clues":["Scuba","Smart","Taser","Laser","Pin","Seal","Kiss","Sonar","Captcha","Who?","Wasp","Rip"],"Answer":"Acronyms"},{"id":2,"Question":"What links these?","Clues":["Atom","Peck","Hobbit","League","A lot","Spat","Rod","Faggot","Poncelet","Cable","Chain","Butt"],"Answer":"Obsolete units of measurement"},{"id":3,"Question":"What links these?","Clues":["Hot","Bubble","Foot","Eye","Public","Mats","Robe","House","Blood","Plug","Bird","Mud"],"Answer":"Baths"},{"id":4,"Question":"What links these?","Clues":["American","Humble","Cottage","Pumpkin","Mud","Lemon","Ocean","Cheese","Fish","Pecan","Sweet Potato","Funeral"],"Answer":"Types of Pie"},{"id":5,"Question":"What links these?","Clues":["Azerbaijan","Belarus","China","Estonia","Finland","Georgia","Kazakhstan","North Korea","Latvia","Lithuania","Mongolia","Norway","Poland","Ukraine"],"Answer":"Types of Pie"},{"id":6,"Question":"What links these?","Clues":["Rot","Note","Fall","Rest","Hills","Patrol","Loose","Stool","Wear","Path","Print","Ball"],"Answer":"Foot"},{"id":7,"Question":"What links these?","Clues":["Craft","Wall","Recycled","News","Sand","Wrapping","Litmus","Filter","Blotting","Note","Toilet","Waste"],"Answer":"Paper"}]')},140:function(e,t,n){"use strict";(function(e){var r=n(74),c=n(60),a=n(58),i=n.n(a),s=n(77),o=n(6),l=n(0),u=n(63),d=n(121),j=n(62),h=n(37),b=n(122),x=n(261),p=n(159),f=n(40),m=n(85),O=n(262),g=n(124),y=n(125),w=n(95),v=n(141),C=n.n(v),k=n(154),A=n(147),F=n.n(A),S=n(27),P=function(e){var t=e.FormItem,n=e.AddButton;return Object(o.jsx)(u.a.List,{name:"clues",children:function(e,r){var c=r.add,a=r.remove;return Object(o.jsxs)(o.Fragment,{children:[e.map((function(e,n){return Object(o.jsx)("div",{children:t({field:e,index:n,remove:a})},e.key)})),Object(o.jsx)(n,{add:c})]})}})},I=function(e){try{var t=new C.a("https://docs.google.com/forms/d/e/1FAIpQLScqzG86l-Cp1LhTFcH_3qhIRMKCNeLglR1tXd6NbRH8bd55Iw");t.addField("entry.1329122340",JSON.stringify(e)),t.send()}catch(c){}var n=Object(w.compressToEncodedURIComponent)(JSON.stringify(e));console.log(e);var r=window.location.origin+"/connections/#/play/"+n;d.a.confirm({title:"Game successfully created",content:Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"Open this link to play the game"}),Object(o.jsx)("a",{target:"_blank",rel:"noreferrer",href:r,children:r})]}),icon:Object(o.jsx)(m.a,{style:{color:"#52c41a"}}),maskClosable:!0,okText:"Play Game",cancelText:"Close",onOk:function(){window.open(r,"_blank")},onCancel:function(){}})},R=function(e){var t=e.label,n=void 0===t?null:t,r=e.children;return Object(o.jsxs)(j.a,{style:{marginLeft:"10px",marginRight:"20px"},children:[Object(o.jsx)(h.a,{span:8,style:{textAlign:"right",paddingRight:"10px",lineHeight:"32px"},children:n}),Object(o.jsx)(h.a,{span:16,children:r})]})},T=function(){var t=Object(s.a)(i.a.mark((function t(n){var r,c,a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.split(",")[1],c=e.from(r,"base64"),t.prev=2,t.next=5,fetch("https://api.imgur.com/3/image",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"text/plain;charset=UTF-8",Authorization:"Client-ID 3efda6f1a654717"},redirect:"follow",referrerPolicy:"no-referrer",body:c});case 5:return a=t.sent,t.next=8,a.json();case 8:if(s=t.sent.data.link){t.next=11;break}throw Error("Image error");case 11:return t.abrupt("return",s);case 14:t.prev=14,t.t0=t.catch(2),b.b.error("Sorry, something went wrong uploading the image, please try again later."),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}(),L=function(e){return function(t){return new Promise((function(n){var r=new FileReader;r.onloadend=function(){var t=new Image,c=document.createElement("CANVAS"),a=c.getContext("2d");a.canvas.width=186,a.canvas.height=100,t.onload=Object(s.a)(i.a.mark((function r(){var s,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.drawImage(t,0,0,186,100),s=c.toDataURL(),r.next=4,T(s);case 4:o=r.sent,e(o),n();case 7:case"end":return r.stop()}}),r)}))),t.src=r.result.toString()},r.readAsDataURL(t)}))}},B=function(e){var t=e.setClue;return Object(o.jsx)(k.a,{rotate:!0,aspect:1.86,minZoom:.5,cropperProps:{restrictPosition:!1},children:Object(o.jsx)(x.a,{name:"file",action:L(t),listType:"picture",showUploadList:!1,children:Object(o.jsx)(O.a,{style:{cursor:"pointer"}})})})};t.a=function(){var e=Object(l.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],i=u.a.useForm(),s=Object(c.a)(i,1)[0];Object(l.useEffect)((function(){window.onbeforeunload=function(){return"Are you sure you want to leave, this page will be reset."}}),[]);var d=function(e){return function(t){a(!0),console.log("setClue");var n=s.getFieldValue("clues");n[e]=t,s.setFieldsValue({clues:n})}},j=Array(12).fill("");return Object(o.jsxs)("div",{style:{maxWidth:"500px"},children:[Object(o.jsx)(S.a,{when:n,message:function(){return"Are you sure you want to leave, this page will be reset."}}),Object(o.jsxs)(u.a,{form:s,layout:"horizontal",initialValues:{clues:j},onFinish:I,children:[Object(o.jsx)(R,{label:"Answer:",children:Object(o.jsx)(u.a.Item,{name:"answer",children:Object(o.jsx)(p.a,{placeholder:"The connection"})})}),Object(o.jsx)(P,{FormItem:function(e){var t=e.field,n=e.index,c=e.remove,a=s.getFieldValue("clues")[n],i=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-/]))?/.test(a);return console.log(i),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(R,{label:n+1+":",children:Object(o.jsx)(u.a.Item,Object(r.a)(Object(r.a)({},t),{},{name:t.name,fieldKey:t.fieldKey,style:{marginBottom:"8px"},children:Object(o.jsx)(p.a,{onChange:F()((function(e){return d(n)(e.target.value)}),300),placeholder:"Clue",addonBefore:Object(o.jsx)(B,{setClue:d(n)}),suffix:Object(o.jsx)(g.a,{style:{color:"#F66"},onClick:function(){return c(t.name)}})})}))}),i&&Object(o.jsx)(R,{children:Object(o.jsx)("img",{style:{paddingBottom:"10px"},src:a,alt:"clue ".concat(n+1)})})]})},AddButton:function(e){var t=e.add;return Object(o.jsx)(R,{children:Object(o.jsx)(u.a.Item,{children:Object(o.jsx)(f.a,{type:"dashed",onClick:function(){return t()},block:!0,icon:Object(o.jsx)(y.a,{}),children:"Add Clue"})})})}}),Object(o.jsx)(R,{children:Object(o.jsx)(u.a.Item,{children:Object(o.jsx)(f.a,{type:"primary",htmlType:"submit",children:"Generate"})})})]})]})}}).call(this,n(169).Buffer)},168:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var r=n(6),c=n(0),a=n(25),i=n(264),s=n(267),o=n(57),l=n(27),u=n(269),d=n(270),j=(n(167),n(168),n(140)),h=n(95),b=n(266),x=n(40),p=n(107),f=n.n(p),m=n(58),O=n.n(m),g=n(77),y=n(156),w=n(60),v=n(122),C=n(62),k=n(37),A=n(268),F=n(151),S=n.n(F),P=n(74),I=n(265),R=n(152),T=n.n(R),L=n(153),B=n.n(L),W=function(e){var t=e.text,n=e.index,c=e.show,a=e.setShow,i=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-/]))?/.test(t),s=i?{backgroundImage:"url(".concat(t,")")}:{};return Object(r.jsxs)(B.a,{isFlipped:c,children:[Object(r.jsx)(I.a,{style:{textAlign:"center",fontSize:"30px",height:"100px"},bodyStyle:{height:"100px",padding:"24px 0px",color:"white",background:"#3a3d3e"},onClick:function(){return a(!0)},children:n+1}),Object(r.jsx)(I.a,{style:{textAlign:"center",height:"100px"},bodyStyle:Object(P.a)(Object(P.a)({},s),{},{padding:"5px",height:"100px",display:"flex",flexDirection:"column",justifyContent:"center"}),onClick:function(){return a(!1)},children:!i&&Object(r.jsx)(T.a,{mode:"single",max:30,children:t})})]})},Q=function(e){var t=e.clues,n=e.setActiveQuestionIndex,a=void 0===n?null:n,i=e.activeQuestionIndex,s=void 0===i?null:i,o=Object(c.useState)(Array.from({length:12},(function(){return!1}))),l=Object(w.a)(o,2),u=l[0],d=l[1],j=function(e){return function(t){u[e]=t,d(Object(y.a)(u))}},h=t.map((function(e,t){return{clue:e,index:t}})),b=S()(h,4),p=function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(Array.from({length:12},(function(){return!1}))),e.next=3,new Promise((function(e){return setTimeout(e,600)}));case 3:0!==s&&a?a(s-1):v.b.success("That's all folks");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){return d(Array(12).fill(e))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{style:{maxWidth:"800px",width:"100%"},children:[Object(r.jsx)(C.a,{gutter:[16,16],children:b.map((function(e){return e.map((function(e){var t=e.clue,n=e.index;return Object(r.jsx)(k.a,{sm:6,xs:8,children:Object(r.jsx)(W,{text:t,index:n,show:u[n],setShow:j(n)})},n)}))}))}),Object(r.jsxs)(A.b,{size:[8,8],wrap:!0,children:[Object(r.jsx)(x.a,{onClick:function(){return f(!0)},children:"Reveal All"}),Object(r.jsx)(x.a,{onClick:function(){return f(!1)},children:"Hide All"}),Object(r.jsx)(x.a,{onClick:p,children:"Next Question"})]})]})})},N=function(){var e,t=Object(l.g)().encodedQuestion;try{for(var n=JSON.parse(Object(h.decompressFromEncodedURIComponent)(t)),c=f()(n.clues);c.length>12;)c.pop();e=c}catch(a){return console.log(a),Object(r.jsx)(b.a,{status:"error",title:"Sorry, the URL is invalid",subTitle:"Please check the URL has been copied correctly.",extra:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o.b,{to:"/create",type:"primary",children:Object(r.jsx)(x.a,{type:"primary",children:"Create a new question"})}),Object(r.jsx)(o.b,{to:"/",children:Object(r.jsx)(x.a,{children:"Play sample questions"})})]})})}return Object(r.jsx)(Q,{clues:e})},H=n(120),U=function(){for(var e=Object(c.useState)(H.length-1),t=Object(w.a)(e,2),n=t[0],a=t[1],i=f()(H[n].Clues);i.length>12;)i.pop();return Object(r.jsx)(Q,{clues:i,activeQuestionIndex:n,setActiveQuestionIndex:a})},z=i.a.Footer,E=i.a.Content,q=function(){return Object(r.jsxs)(i.a,{style:{minHeight:"100vh"},children:[Object(r.jsxs)(o.a,{children:[Object(r.jsxs)(s.a,{theme:"dark",mode:"horizontal",children:[Object(r.jsx)(s.a.Item,{icon:Object(r.jsx)(u.a,{}),children:Object(r.jsx)(o.b,{to:"/create",children:"Create your own questions"})}),Object(r.jsx)(s.a.Item,{icon:Object(r.jsx)(d.a,{}),children:Object(r.jsx)(o.b,{to:"/",children:"Play example questions"})})]}),Object(r.jsx)(E,{style:{maxWidth:"800px",width:"100%",margin:"auto",marginTop:"100px"},children:Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{exact:!0,path:"/",children:Object(r.jsx)(U,{})}),Object(r.jsx)(l.b,{exact:!0,path:"/create",children:Object(r.jsx)(j.a,{})}),Object(r.jsx)(l.b,{path:"/play/:encodedQuestion",children:Object(r.jsx)(N,{})})]})})]}),Object(r.jsxs)(z,{style:{textAlign:"center"},children:["Connections \xa92021 Created by ",Object(r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/tomgb/",children:"Tom Banister"})]})]})};Object(a.render)(Object(r.jsx)(q,{}),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.6f7b17b0.chunk.js.map